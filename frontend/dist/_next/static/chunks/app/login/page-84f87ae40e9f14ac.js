(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{15233:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var o=a(12115);let r=o.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?o.createElement("title",{id:r},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},20063:(e,t,a)=>{"use strict";var o=a(47260);a.o(o,"useParams")&&a.d(t,{useParams:function(){return o.useParams}}),a.o(o,"usePathname")&&a.d(t,{usePathname:function(){return o.usePathname}}),a.o(o,"useRouter")&&a.d(t,{useRouter:function(){return o.useRouter}}),a.o(o,"useSearchParams")&&a.d(t,{useSearchParams:function(){return o.useSearchParams}})},63555:(e,t,a)=>{Promise.resolve().then(a.bind(a,70017))},70017:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var o=a(95155),r=a(12115),s=a(20063),n=a(52619),l=a.n(n),c=a(76924),i=a(77540),d=a(15233);function u(){let[e,t]=(0,r.useState)(""),[a,n]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),{login:p}=(0,c.A)(),x=(0,s.useRouter)(),f=async t=>{if(t.preventDefault(),e&&a){g(!0);try{await p(e,a),x.push("/dashboard")}catch(e){}finally{g(!1)}}};return(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100",children:(0,o.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"E"})}),(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Sign in to Exeloka"}),(0,o.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your cultural wisdom dashboard"})]}),(0,o.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:f,children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),(0,o.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{id:"password",name:"password",type:u?"text":"password",autoComplete:"current-password",required:!0,className:"form-input pr-10",placeholder:"Enter your password",value:a,onChange:e=>n(e.target.value)}),(0,o.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!u),children:u?(0,o.jsx)(i.A,{className:"h-5 w-5 text-gray-400"}):(0,o.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,o.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,o.jsx)("div",{className:"text-sm",children:(0,o.jsx)("a",{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",disabled:h||!e||!a,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{type:"button",onClick:()=>{localStorage.setItem("exeloka_token","fake-jwt-token-for-testing"),localStorage.setItem("exeloka_user",JSON.stringify({id:2,email:"user@company.com",company_name:"PT. Madura Development",full_name:"Test User",role:"user"})),x.push("/dashboard")},className:"group relative w-full flex justify-center py-2 px-4 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"\uD83D\uDEA8 BYPASS LOGIN (Testing Only)"}),(0,o.jsx)("p",{className:"mt-1 text-xs text-center text-red-500",children:"For development testing only - bypasses authentication"})]}),(0,o.jsx)("div",{className:"text-center",children:(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,o.jsx)(l(),{href:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up here"})]})})]})]})})}},76924:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,O:()=>i});var o=a(95155),r=a(12115),s=a(90960),n=a(22663);let l=(0,r.createContext)(void 0);function c(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function i(e){let{children:t}=e,[a,c]=(0,r.useState)(null),[i,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("exeloka_token"),t=localStorage.getItem("exeloka_user");if(e){if(m(e),s.FH.setAuthToken(e),"fake-jwt-token-for-testing"===e&&t)try{let e=JSON.parse(t);c(e),d(!1);return}catch(e){}s.FH.get("/auth/me").then(e=>{e.data.success?c(e.data.data.user):(localStorage.removeItem("exeloka_token"),localStorage.removeItem("exeloka_refresh_token"),localStorage.removeItem("exeloka_user"),m(null),s.FH.setAuthToken(null))}).catch(()=>{localStorage.removeItem("exeloka_token"),localStorage.removeItem("exeloka_refresh_token"),localStorage.removeItem("exeloka_user"),m(null),s.FH.setAuthToken(null)}).finally(()=>{d(!1)})}else d(!1)},[]);let h=async(e,t)=>{try{let a=await s.FH.post("/auth/login",{email:e,password:t});if(a.data.success){let{user:e,token:t,refreshToken:o}=a.data.data;c(e),m(t),s.FH.setAuthToken(t),localStorage.setItem("exeloka_token",t),localStorage.setItem("exeloka_refresh_token",o),n.Ay.success("Welcome back!")}else n.Ay.error(a.data.message||"Login failed")}catch(t){var a,o;let e=(null==(o=t.response)||null==(a=o.data)?void 0:a.message)||"Login failed";throw n.Ay.error(e),t}},g=async e=>{try{let t=await s.FH.post("/auth/register",e);if(t.data.success){let{user:e,token:a,refreshToken:o}=t.data.data;c(e),m(a),s.FH.setAuthToken(a),localStorage.setItem("exeloka_token",a),localStorage.setItem("exeloka_refresh_token",o),n.Ay.success("Account created successfully!")}else n.Ay.error(t.data.message||"Registration failed")}catch(o){var t,a;let e=(null==(a=o.response)||null==(t=a.data)?void 0:t.message)||"Registration failed";throw n.Ay.error(e),o}};return(0,o.jsx)(l.Provider,{value:{user:a,loading:i,login:h,register:g,logout:()=>{c(null),m(null),s.FH.setAuthToken(null),localStorage.removeItem("exeloka_token"),localStorage.removeItem("exeloka_refresh_token"),localStorage.removeItem("exeloka_user"),n.Ay.success("Logged out successfully")},token:u},children:t})}},77540:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var o=a(12115);let r=o.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?o.createElement("title",{id:r},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})},90960:(e,t,a)=>{"use strict";a.d(t,{FH:()=>n,_x:()=>c,ao:()=>d,jd:()=>u,tK:()=>l,yj:()=>i});var o=a(95125),r=a(22663);class s{setupInterceptors(){this.client.interceptors.request.use(e=>(this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),e),e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t,a,o;let s=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!s._retry){s._retry=!0;let e=localStorage.getItem("exeloka_refresh_token");if(e)try{let t=await this.client.post("/auth/refresh",{refreshToken:e});if(t.data.success){let{token:e,refreshToken:a}=t.data.data;return localStorage.setItem("exeloka_token",e),localStorage.setItem("exeloka_refresh_token",a),this.setAuthToken(e),s.headers.Authorization="Bearer ".concat(e),this.client(s)}}catch(e){this.handleAuthFailure()}else this.handleAuthFailure()}return(null==(o=e.response)||null==(a=o.data)?void 0:a.message)?401!==e.response.status&&r.Ay.error(e.response.data.message):"Network Error"===e.message?r.Ay.error("Network error. Please check your connection."):"ECONNABORTED"===e.code&&r.Ay.error("Request timeout. Please try again."),Promise.reject(e)})}handleAuthFailure(){localStorage.removeItem("exeloka_token"),localStorage.removeItem("exeloka_refresh_token"),this.setAuthToken(null),window.location.pathname.includes("/login")||window.location.pathname.includes("/register")||(window.location.href="/login")}setAuthToken(e){this.authToken=e}async get(e,t){return this.client.get(e,{params:t})}async post(e,t,a){return this.client.post(e,t,a)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}async uploadFile(e,t,a){return this.client.post(e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{a&&e.total&&a(Math.round(100*e.loaded/e.total))}})}async downloadFile(e,t){try{let a=await this.client.get(e,{responseType:"blob"}),o=new Blob([a.data]),s=window.URL.createObjectURL(o),n=document.createElement("a");n.href=s,n.download=t||"download",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s),r.Ay.success("File downloaded successfully")}catch(e){throw r.Ay.error("Failed to download file"),e}}constructor(){this.authToken=null,this.client=o.A.create({baseURL:"https://www.forrestofus.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let n=new s,l={ingestData:e=>n.post("/knowledge/ingest",e),addDirectEntry:e=>e instanceof FormData?n.uploadFile("/knowledge/direct",e):n.post("/knowledge/direct",e),search:(e,t)=>n.get("/knowledge/search",{query:e,...t}),getSources:e=>n.get("/knowledge/sources",e),getCategories:()=>n.get("/knowledge/categories"),getSource:e=>n.get("/knowledge/".concat(e)),deleteSource:e=>n.delete("/knowledge/sources/".concat(e))},c={create:e=>n.post("/recommendations/projects",e),getAll:e=>n.get("/recommendations/projects",e),getById:e=>n.get("/recommendations/projects/".concat(e)),update:(e,t)=>n.put("/recommendations/projects/".concat(e),t),delete:e=>n.delete("/recommendations/projects/".concat(e)),getPromptTemplates:()=>n.get("/recommendations/prompt-templates"),generateRecommendation:e=>n.post("/recommendations/generate",e),getRecommendations:e=>n.get("/recommendations",e),getRecommendation:e=>n.get("/recommendations/".concat(e)),submitFeedback:(e,t)=>n.post("/recommendations/".concat(e,"/feedback"),t),getAnalytics:()=>n.get("/recommendations/analytics"),getAnalyticsDashboard:e=>n.get("/recommendations/analytics/dashboard?range=".concat(e))},i={getAll:e=>n.get("/recommendations",e),getById:e=>n.get("/recommendations/".concat(e)),getByProject:e=>n.get("/recommendations?project=".concat(e)),submitFeedback:(e,t)=>n.post("/recommendations/".concat(e,"/feedback"),t),generateDocument:(e,t)=>n.post("/recommendations/".concat(e,"/generate-document"),{format:t},{responseType:"blob"}),delete:e=>n.delete("/recommendations/".concat(e))},d={generateDocx:e=>n.post("/documents/generate/docx",e),generateXlsx:e=>n.post("/documents/generate/xlsx",e),generatePptx:e=>n.post("/documents/generate/pptx",e),getDocuments:e=>n.get("/documents",e),downloadDocument:e=>n.downloadFile("/documents/download/".concat(e),e),getStats:()=>n.get("/documents/stats")},u={getInsights:e=>n.get("/recommendations/learning/insights",e),getStats:()=>n.get("/recommendations/learning/stats"),getFeedbackSummary:e=>n.get("/recommendations/".concat(e,"/feedback-summary"))}}},e=>{e.O(0,[459,619,441,493,358],()=>e(e.s=63555)),_N_E=e.O()}]);