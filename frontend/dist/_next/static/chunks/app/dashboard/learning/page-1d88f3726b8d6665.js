(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[924],{1920:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(95155);s(12115);let n=e=>{let{children:t,title:s,className:n=""}=e;return(0,a.jsxs)("div",{className:"space-y-6 ".concat(n),children:[s&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:s})}),t]})}},11186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>c,eb:()=>l,gC:()=>r,l6:()=>n,yv:()=>o});var a=s(95155);s(12115);let n=e=>{let{children:t,className:s="",onValueChange:n,...r}=e;return(0,a.jsx)("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ".concat(s),...r,onChange:e=>{n&&n(e.target.value),r.onChange&&r.onChange(e)},children:t})},r=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)(a.Fragment,{children:t})},l=e=>{let{children:t,value:s,className:n="",...r}=e;return(0,a.jsx)("option",{value:s,className:n,...r,children:t})},c=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)(a.Fragment,{children:t})},o=e=>{let{placeholder:t,className:s=""}=e;return null}},11647:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(95155);s(12115);let n=e=>{let{children:t,className:s="",variant:n="default"}=e;return(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({default:"bg-gray-100 text-gray-800",secondary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",outline:"bg-transparent text-gray-800 border border-gray-300"}[n]," ").concat(s),children:t})}},24793:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var a=s(95155),n=s(12115),r=s(35108),l=s(90960),c=s(1920),o=s(86948),i=s(11647);let d=n.createContext({activeTab:"",setActiveTab:()=>{}}),u=e=>{let{children:t,defaultValue:s,className:r=""}=e,[l,c]=(0,n.useState)(s);return(0,a.jsx)(d.Provider,{value:{activeTab:l,setActiveTab:c},children:(0,a.jsx)("div",{className:r,children:t})})},m=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"flex space-x-1 border-b border-gray-200 ".concat(s),children:t})},x=e=>{let{children:t,value:s,className:r=""}=e,{activeTab:l,setActiveTab:c}=n.useContext(d),o=l===s;return(0,a.jsx)("button",{onClick:()=>c(s),className:"px-4 py-2 text-sm font-medium transition-colors ".concat(o?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"," ").concat(r),children:t})},h=e=>{let{children:t,value:s,className:r=""}=e,{activeTab:l}=n.useContext(d);return l!==s?null:(0,a.jsx)("div",{className:"pt-4 ".concat(r),children:t})};var g=s(11186),p=s(65142),j=s(6956),y=s(88125),b=s(78710),f=s(30955),v=s(92302),N=s(77415),w=s(21219),k=s(26991),_=s(78765),A=s(12235),F=s(69386),C=s(23508),T=s(80019),R=s(68425),S=s(47734),Z=s(73697),I=s(7620),B=s(47643),E=s(98128),L=s(16533);function W(){var e;let[t,s]=(0,n.useState)("all"),[d,W]=(0,n.useState)(.5),[P,D]=(0,n.useState)(""),{data:K,isLoading:q}=(0,r.useQuery)({queryKey:["learning-insights",t,d],queryFn:()=>l.jd.getInsights({insight_type:"all"===t?void 0:t,min_confidence:d,limit:50})}),{data:O,isLoading:U}=(0,r.useQuery)({queryKey:["learning-stats"],queryFn:()=>l.jd.getStats()}),z=(null==K||null==(e=K.data)?void 0:e.filter(e=>{var t;return e.content.toLowerCase().includes(P.toLowerCase())||(null==(t=e.applicable_contexts)?void 0:t.some(e=>e.toLowerCase().includes(P.toLowerCase())))}))||[],M=["#0088FE","#00C49F","#FFBB28","#FF8042"];return(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Learning & Insights"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"AI-powered insights from feedback analysis and system learning"})]})}),(null==O?void 0:O.data)&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ZB,{className:"text-sm font-medium",children:"Total Insights"}),(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:O.data.overall.total_learning_insights}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Generated from feedback"})]})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ZB,{className:"text-sm font-medium",children:"Avg Rating"}),(0,a.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[O.data.overall.average_rating,"/5"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all recommendations"})]})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ZB,{className:"text-sm font-medium",children:"Success Rate"}),(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[(100*O.data.overall.implementation_success_rate).toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Implementation success"})]})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ZB,{className:"text-sm font-medium",children:"Total Feedback"}),(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:O.data.overall.total_feedback}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Feedback entries analyzed"})]})]})]}),(0,a.jsxs)(u,{defaultValue:"insights",className:"space-y-4",children:[(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{value:"insights",children:"Learning Insights"}),(0,a.jsx)(x,{value:"analytics",children:"Analytics"})]}),(0,a.jsxs)(h,{value:"insights",className:"space-y-4",children:[(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Filters"})}),(0,a.jsx)(o.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Insight Type"}),(0,a.jsxs)(g.l6,{value:t,onValueChange:s,children:[(0,a.jsx)(g.bq,{children:(0,a.jsx)(g.yv,{placeholder:"Select type"})}),(0,a.jsxs)(g.gC,{children:[(0,a.jsx)(g.eb,{value:"all",children:"All Types"}),(0,a.jsx)(g.eb,{value:"success_pattern",children:"Success Patterns"}),(0,a.jsx)(g.eb,{value:"failure_pattern",children:"Failure Patterns"}),(0,a.jsx)(g.eb,{value:"cultural_factor",children:"Cultural Factors"}),(0,a.jsx)(g.eb,{value:"implementation_tip",children:"Implementation Tips"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Min Confidence: ",(100*d).toFixed(0),"%"]}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:d,onChange:e=>W(parseFloat(e.target.value)),className:"w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Search"}),(0,a.jsx)(p.p,{placeholder:"Search insights...",value:P,onChange:e=>D(e.target.value)})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[q?(0,a.jsx)(o.Zp,{children:(0,a.jsx)(o.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"},e))})})}):z.map((e,t)=>(0,a.jsx)(o.Zp,{children:(0,a.jsx)(o.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"mt-1",children:(e=>{switch(e){case"success_pattern":return(0,a.jsx)(j.A,{className:"w-5 h-5 text-green-500"});case"failure_pattern":return(0,a.jsx)(y.A,{className:"w-5 h-5 text-red-500"});case"cultural_factor":return(0,a.jsx)(b.A,{className:"w-5 h-5 text-blue-500"});case"implementation_tip":return(0,a.jsx)(f.A,{className:"w-5 h-5 text-yellow-500"});default:return(0,a.jsx)(v.A,{className:"w-5 h-5 text-gray-500"})}})(e.insight_type)}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.E,{className:(e=>{switch(e){case"success_pattern":return"bg-green-100 text-green-800";case"failure_pattern":return"bg-red-100 text-red-800";case"cultural_factor":return"bg-blue-100 text-blue-800";case"implementation_tip":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e.insight_type),children:e.insight_type.replace("_"," ")}),(0,a.jsxs)(i.E,{variant:"outline",children:[(100*e.confidence_score).toFixed(0),"% confidence"]}),(0,a.jsxs)(i.E,{variant:"outline",children:[e.source_feedback_count," feedback sources"]})]}),(0,a.jsx)("p",{className:"text-gray-900 leading-relaxed",children:e.content}),e.applicable_contexts&&e.applicable_contexts.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Applicable to:"}),e.applicable_contexts.map((e,t)=>(0,a.jsx)(i.E,{variant:"secondary",className:"text-xs",children:e},t))]})]})]})})},t)),0===z.length&&!q&&(0,a.jsx)(o.Zp,{children:(0,a.jsxs)(o.Wu,{className:"p-6 text-center",children:[(0,a.jsx)(N.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No insights found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters or check back later as more feedback is collected."})]})})]})]}),(0,a.jsx)(h,{value:"analytics",className:"space-y-4",children:(null==O?void 0:O.data)&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Insights by Type"})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(k.u,{width:"100%",height:300,children:(0,a.jsxs)(_.r,{children:[(0,a.jsx)(A.F,{data:O.data.insights_by_type,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat((100*s).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"count",children:O.data.insights_by_type.map((e,t)=>(0,a.jsx)(F.f,{fill:M[t%M.length]},"cell-".concat(t)))}),(0,a.jsx)(C.m,{})]})})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Recent Feedback Trends"})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(k.u,{width:"100%",height:300,children:(0,a.jsxs)(T.b,{data:O.data.recent_trends,children:[(0,a.jsx)(R.d,{strokeDasharray:"3 3"}),(0,a.jsx)(S.W,{dataKey:"date"}),(0,a.jsx)(Z.h,{}),(0,a.jsx)(C.m,{}),(0,a.jsx)(I.s,{}),(0,a.jsx)(B.N,{type:"monotone",dataKey:"feedback_count",stroke:"#8884d8",name:"Feedback Count"}),(0,a.jsx)(B.N,{type:"monotone",dataKey:"avg_rating",stroke:"#82ca9d",name:"Avg Rating"})]})})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsx)(o.ZB,{children:"Average Confidence by Type"})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(k.u,{width:"100%",height:300,children:(0,a.jsxs)(E.E,{data:O.data.insights_by_type,children:[(0,a.jsx)(R.d,{strokeDasharray:"3 3"}),(0,a.jsx)(S.W,{dataKey:"type"}),(0,a.jsx)(Z.h,{}),(0,a.jsx)(C.m,{}),(0,a.jsx)(L.y,{dataKey:"average_confidence",fill:"#8884d8"})]})})})]})]})})]})]})})}},35706:(e,t,s)=>{Promise.resolve().then(s.bind(s,24793))},65142:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(95155);s(12115);let n=e=>{let{className:t="",...s}=e;return(0,a.jsx)("input",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ".concat(t),...s})}},86948:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>r});var a=s(95155);s(12115);let n=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 ".concat(s),children:t})},r=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 ".concat(s),children:t})},l=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ".concat(s),children:t})},c=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"px-6 py-4 ".concat(s),children:t})}},90960:(e,t,s)=>{"use strict";s.d(t,{FH:()=>l,_x:()=>o,ao:()=>d,jd:()=>u,tK:()=>c,yj:()=>i});var a=s(95125),n=s(22663);class r{setupInterceptors(){this.client.interceptors.request.use(e=>(this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),e),e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t,s,a;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){r._retry=!0;let e=localStorage.getItem("exeloka_refresh_token");if(e)try{let t=await this.client.post("/auth/refresh",{refreshToken:e});if(t.data.success){let{token:e,refreshToken:s}=t.data.data;return localStorage.setItem("exeloka_token",e),localStorage.setItem("exeloka_refresh_token",s),this.setAuthToken(e),r.headers.Authorization="Bearer ".concat(e),this.client(r)}}catch(e){this.handleAuthFailure()}else this.handleAuthFailure()}return(null==(a=e.response)||null==(s=a.data)?void 0:s.message)?401!==e.response.status&&n.Ay.error(e.response.data.message):"Network Error"===e.message?n.Ay.error("Network error. Please check your connection."):"ECONNABORTED"===e.code&&n.Ay.error("Request timeout. Please try again."),Promise.reject(e)})}handleAuthFailure(){localStorage.removeItem("exeloka_token"),localStorage.removeItem("exeloka_refresh_token"),this.setAuthToken(null),window.location.pathname.includes("/login")||window.location.pathname.includes("/register")||(window.location.href="/login")}setAuthToken(e){this.authToken=e}async get(e,t){return this.client.get(e,{params:t})}async post(e,t,s){return this.client.post(e,t,s)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}async uploadFile(e,t,s){return this.client.post(e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{s&&e.total&&s(Math.round(100*e.loaded/e.total))}})}async downloadFile(e,t){try{let s=await this.client.get(e,{responseType:"blob"}),a=new Blob([s.data]),r=window.URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download=t||"download",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(r),n.Ay.success("File downloaded successfully")}catch(e){throw n.Ay.error("Failed to download file"),e}}constructor(){this.authToken=null,this.client=a.A.create({baseURL:"https://www.forrestofus.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let l=new r,c={ingestData:e=>l.post("/knowledge/ingest",e),addDirectEntry:e=>e instanceof FormData?l.uploadFile("/knowledge/direct",e):l.post("/knowledge/direct",e),search:(e,t)=>l.get("/knowledge/search",{query:e,...t}),getSources:e=>l.get("/knowledge/sources",e),getCategories:()=>l.get("/knowledge/categories"),getSource:e=>l.get("/knowledge/".concat(e)),deleteSource:e=>l.delete("/knowledge/sources/".concat(e))},o={create:e=>l.post("/recommendations/projects",e),getAll:e=>l.get("/recommendations/projects",e),getById:e=>l.get("/recommendations/projects/".concat(e)),update:(e,t)=>l.put("/recommendations/projects/".concat(e),t),delete:e=>l.delete("/recommendations/projects/".concat(e)),getPromptTemplates:()=>l.get("/recommendations/prompt-templates"),generateRecommendation:e=>l.post("/recommendations/generate",e),getRecommendations:e=>l.get("/recommendations",e),getRecommendation:e=>l.get("/recommendations/".concat(e)),submitFeedback:(e,t)=>l.post("/recommendations/".concat(e,"/feedback"),t),getAnalytics:()=>l.get("/recommendations/analytics"),getAnalyticsDashboard:e=>l.get("/recommendations/analytics/dashboard?range=".concat(e))},i={getAll:e=>l.get("/recommendations",e),getById:e=>l.get("/recommendations/".concat(e)),getByProject:e=>l.get("/recommendations?project=".concat(e)),submitFeedback:(e,t)=>l.post("/recommendations/".concat(e,"/feedback"),t),generateDocument:(e,t)=>l.post("/recommendations/".concat(e,"/generate-document"),{format:t},{responseType:"blob"}),delete:e=>l.delete("/recommendations/".concat(e))},d={generateDocx:e=>l.post("/documents/generate/docx",e),generateXlsx:e=>l.post("/documents/generate/xlsx",e),generatePptx:e=>l.post("/documents/generate/pptx",e),getDocuments:e=>l.get("/documents",e),downloadDocument:e=>l.downloadFile("/documents/download/".concat(e),e),getStats:()=>l.get("/documents/stats")},u={getInsights:e=>l.get("/recommendations/learning/insights",e),getStats:()=>l.get("/recommendations/learning/stats"),getFeedbackSummary:e=>l.get("/recommendations/".concat(e,"/feedback-summary"))}}},e=>{e.O(0,[459,108,987,441,493,358],()=>e(e.s=35706)),_N_E=e.O()}]);