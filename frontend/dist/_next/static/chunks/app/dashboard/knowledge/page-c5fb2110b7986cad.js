(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[646],{6956:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},10610:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))})},13948:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))})},15233:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},27980:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},36337:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))})},36834:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},40707:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},41715:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},43569:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})},49128:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},52634:(e,t,a)=>{Promise.resolve().then(a.bind(a,62767))},57218:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},62767:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var r=a(95155),s=a(12115),n=a(35108),l=a(49128),o=a(86302),i=a(10610),c=a(57218),d=a(41715),u=a(36337),m=a(27980),x=a(88592),g=a(43569);let h=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))});var p=a(13948),b=a(15233),f=a(6956);let y=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});var v=a(88125),j=a(40707),w=a(36834);let N=[{type:"quick",title:"Quick Analysis",subtitle:"TensorFlow.js + Local OCR",icon:h,description:"Fast, local analysis combining OCR text extraction with machine learning models",features:["Local OCR text extraction","Basic cultural pattern recognition","Immediate categorization","Privacy-focused (no data sent to servers)","Perfect for routine knowledge entries"],cost:"Free",time:"5-15 seconds",accuracy:"Good for basic categorization",bgColor:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700"},{type:"enhanced",title:"Enhanced Analysis",subtitle:"OCR + Advanced AI Analysis",icon:p.A,description:"Deep cultural analysis using state-of-the-art OCR and language models with extensive cultural knowledge",features:["High-accuracy OCR with context understanding","Deep cultural significance analysis","Traditional practice identification","Comprehensive risk and opportunity assessment","Historical context and anthropological insights"],cost:"$0.02-0.15 per document",time:"15-45 seconds",accuracy:"Excellent with cultural context",bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",buttonColor:"bg-blue-600 hover:bg-blue-700"}];function k(e){let{isOpen:t,onClose:a,onSelectAnalysis:n,estimatedCost:o=.08,isProcessing:i,documentName:c,extractedText:d}=e,[u,m]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),[p,k]=(0,s.useState)(!1),[A,_]=(0,s.useState)(!1);return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,r.jsx)(l.A,{className:"h-6 w-6 text-blue-600 mr-2"}),"Knowledge Analysis Options"]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Choose how to extract and analyze cultural knowledge from your content"}),c&&(0,r.jsxs)("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:["Document: ",c]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[d&&(0,r.jsxs)("button",{onClick:()=>_(!A),className:"text-gray-400 hover:text-gray-600 text-sm flex items-center",children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),A?"Hide":"Preview"]}),(0,r.jsx)("button",{onClick:()=>{m(null),h(!1),k(!1),_(!1),a()},disabled:i,className:"text-gray-400 hover:text-gray-500 disabled:opacity-50",children:(0,r.jsx)(g.A,{className:"h-6 w-6"})})]})]}),(0,r.jsxs)("div",{className:"p-6",children:[A&&d&&(0,r.jsxs)("div",{className:"mb-6 bg-gray-50 border rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Extracted Text Preview:"}),(0,r.jsxs)("div",{className:"max-h-32 overflow-y-auto text-sm text-gray-700 whitespace-pre-wrap",children:[d.substring(0,500),d.length>500&&"..."]})]}),p?(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(v.A,{className:"h-8 w-8 text-amber-600 mr-4 flex-shrink-0 mt-1"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-amber-800 mb-2",children:"Enhanced Knowledge Analysis Cost Notice"}),(0,r.jsx)("p",{className:"text-amber-700 mb-4",children:"Enhanced analysis uses advanced AI services (OpenRouter API) for high-quality OCR and deep cultural analysis. This provides superior accuracy but incurs a small cost."}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-amber-200 p-4 mb-4",children:[(0,r.jsxs)("h5",{className:"font-medium text-gray-900 mb-3",children:["What You Get for $",o.toFixed(3),":"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"OCR & Extraction:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,r.jsx)("li",{children:"• High-accuracy text extraction"}),(0,r.jsx)("li",{children:"• Context-aware formatting"}),(0,r.jsx)("li",{children:"• Multi-language support"}),(0,r.jsx)("li",{children:"• Handwriting recognition"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"Cultural Analysis:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,r.jsx)("li",{children:"• Deep cultural significance"}),(0,r.jsx)("li",{children:"• Traditional practice identification"}),(0,r.jsx)("li",{children:"• Historical context analysis"}),(0,r.jsx)("li",{children:"• Risk and opportunity assessment"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,r.jsx)(j.A,{className:"h-5 w-5 text-amber-600 mt-0.5"}),(0,r.jsxs)("div",{className:"text-sm text-amber-700",children:[(0,r.jsx)("strong",{children:"Why the cost?"}),(0,r.jsx)("p",{children:"Enhanced analysis uses cutting-edge AI models that can understand cultural nuances, historical contexts, and provide insights that basic OCR cannot match."})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(w.A,{className:"h-5 w-5 text-amber-600 mt-0.5"}),(0,r.jsxs)("div",{className:"text-sm text-amber-700",children:[(0,r.jsx)("strong",{children:"Processing time:"}),(0,r.jsx)("p",{children:"15-45 seconds depending on document complexity. The system will extract text, analyze cultural significance, and provide detailed insights."})]})]})]})]})}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("label",{className:"flex items-start",children:[(0,r.jsx)("input",{type:"checkbox",checked:x,onChange:e=>h(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),(0,r.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:["I understand that enhanced analysis will incur a cost of approximately ",(0,r.jsxs)("strong",{children:["$",o.toFixed(3)]}),"and will provide high-quality OCR extraction plus deep cultural analysis. I wish to proceed."]})]})}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>k(!1),disabled:i,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 disabled:opacity-50",children:"Back to Options"}),(0,r.jsx)("button",{onClick:()=>{x&&n("enhanced",x)},disabled:!x||i,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{className:"h-4 w-4 mr-2"}),"Proceed with Enhanced Analysis"]})})]})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map(e=>(0,r.jsxs)("div",{className:"relative rounded-lg border-2 ".concat(e.borderColor," ").concat(e.bgColor," p-6 cursor-pointer transition-all duration-200 hover:shadow-md ").concat(u===e.type?"ring-2 ring-offset-2 ring-blue-500":""," ").concat(i?"opacity-50 cursor-not-allowed":""),onClick:()=>{var t;return!i&&void(m(t=e.type),"enhanced"===t?k(!0):n(t,!0))},children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(e.icon,{className:"h-8 w-8 ".concat(e.iconColor," mr-3")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.subtitle})]})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:e.description}),(0,r.jsx)("ul",{className:"space-y-2 mb-4",children:e.features.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start text-sm",children:[(0,r.jsx)(f.A,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),(0,r.jsx)("span",{children:e})]},t))}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3 text-sm mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900",children:"Cost:"}),(0,r.jsx)("span",{className:"text-gray-600",children:e.cost})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900",children:"Time:"}),(0,r.jsx)("span",{className:"text-gray-600",children:e.time})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900",children:"Accuracy:"}),(0,r.jsx)("span",{className:"text-gray-600",children:e.accuracy})]})]}),(0,r.jsx)("button",{disabled:i,className:"w-full px-4 py-2 text-sm font-medium text-white rounded-md transition-colors disabled:opacity-50 flex items-center justify-center ".concat(e.buttonColor),children:i&&u===e.type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{className:"h-4 w-4 mr-2"}),"Select ",e.title]})})]},e.type))})]})]})}):null}let A=[{id:1,name:"Adat Istiadat",description:"Traditional customs and practices"},{id:2,name:"Kepercayaan",description:"Beliefs and spiritual practices"},{id:3,name:"Ekonomi Lokal",description:"Local economic systems and practices"},{id:4,name:"Lingkungan",description:"Environmental knowledge and practices"},{id:5,name:"Sosial Kemasyarakatan",description:"Social community structures"},{id:6,name:"Bahasa dan Komunikasi",description:"Language and communication patterns"},{id:7,name:"Seni dan Budaya",description:"Arts and cultural expressions"},{id:8,name:"Sejarah Lokal",description:"Local historical knowledge"}];function _(e){var t;let{isOpen:a,onClose:n,onAdd:i}=e,[d,u]=(0,s.useState)({title:"",source_type:"text",content_text:"",source_url:"",category_id:void 0,tags:[],cultural_context:"",importance_score:.5}),[m,x]=(0,s.useState)(""),[h,p]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[y,v]=(0,s.useState)(""),[j,w]=(0,s.useState)(!1),N=(0,s.useRef)(null),_=()=>{u({title:"",source_type:"text",content_text:"",source_url:"",category_id:void 0,tags:[],cultural_context:"",importance_score:.5}),x(""),f(!1),v(""),w(!1),N.current&&(N.current.value=""),n()},C=()=>{var e;!m.trim()||(null==(e=d.tags)?void 0:e.includes(m.trim()))||(u(e=>({...e,tags:[...e.tags||[],m.trim()]})),x(""))},E=async()=>{if("text"===d.source_type)return d.content_text||"";if("url"===d.source_type)return d.source_url||"";if("document"===d.source_type&&d.file){var e;let t=null==(e=d.file.name.split(".").pop())?void 0:e.toLowerCase();if(![".jpg",".jpeg",".png",".tiff",".bmp",".webp"].includes(".".concat(t)))return"Document: ".concat(d.file.name);{let e=new FormData;e.append("file",d.file),e.append("language","eng+ind");let t=localStorage.getItem("token"),a=await fetch("".concat("https://www.forrestofus.com/api","/ocr/extract"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:e});if(!a.ok)throw Error("OCR extraction failed");return(await a.json()).data.text}}return""},L=async e=>{var t,a;if(e.preventDefault(),!d.title.trim())return void alert("Please enter a title");if("text"===d.source_type&&!(null==(t=d.content_text)?void 0:t.trim()))return void alert("Please enter content text");if("url"===d.source_type&&!(null==(a=d.source_url)?void 0:a.trim()))return void alert("Please enter a URL");if("document"===d.source_type&&!d.file)return void alert("Please select a file");p(!0);try{let e=await E();v(e),f(!0),p(!1)}catch(e){console.error("Error extracting content:",e),alert("Failed to extract content. Please try again."),p(!1)}},S=async(e,t)=>{w(!0);try{console.log("Analysis type:",e,"Cost confirmed:",t);let a={...d,content_text:y||d.content_text};await i(a),_()}catch(e){console.error("Error during analysis:",e),alert("Analysis failed. Please try again.")}finally{w(!1)}};return a?(0,r.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Knowledge Entry"}),(0,r.jsx)("button",{onClick:_,className:"text-gray-400 hover:text-gray-500",children:(0,r.jsx)(g.A,{className:"h-6 w-6"})})]}),(0,r.jsxs)("form",{onSubmit:L,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Source Type"}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{value:"text",label:"Text Entry",icon:l.A},{value:"url",label:"URL/Website",icon:o.A},{value:"document",label:"Document",icon:l.A}].map(e=>{let{value:t,label:a,icon:s}=e;return(0,r.jsxs)("button",{type:"button",onClick:()=>u(e=>({...e,source_type:t})),className:"flex flex-col items-center p-4 rounded-lg border-2 transition-colors ".concat(d.source_type===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:[(0,r.jsx)(s,{className:"h-6 w-6 mb-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:a})]},t)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,r.jsx)("input",{type:"text",value:d.title,onChange:e=>u(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter a descriptive title",required:!0})]}),"text"===d.source_type&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),(0,r.jsx)("textarea",{value:d.content_text||"",onChange:e=>u(t=>({...t,content_text:e.target.value})),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter the knowledge content, cultural practices, wisdom, etc.",required:!0})]}),"url"===d.source_type&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL *"}),(0,r.jsx)("input",{type:"url",value:d.source_url||"",onChange:e=>u(t=>({...t,source_url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/article",required:!0})]}),"document"===d.source_type&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document *"}),(0,r.jsx)("input",{ref:N,type:"file",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&u(e=>({...e,file:a,title:e.title||a.name.replace(/\.[^/.]+$/,"")}))},accept:".pdf,.doc,.docx,.txt",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Supported formats: PDF, DOC, DOCX, TXT"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,r.jsxs)("select",{value:d.category_id||"",onChange:e=>u(t=>({...t,category_id:e.target.value?parseInt(e.target.value):void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Select a category (optional)"}),A.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cultural Context"}),(0,r.jsx)("textarea",{value:d.cultural_context||"",onChange:e=>u(t=>({...t,cultural_context:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe the cultural significance, context, or relevance to Sampang community"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,r.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,r.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),C())},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add tags (press Enter to add)"}),(0,r.jsx)("button",{type:"button",onClick:C,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:(0,r.jsx)(c.A,{className:"h-4 w-4"})})]}),d.tags&&d.tags.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:d.tags.map((e,t)=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>{u(t=>{var a;return{...t,tags:(null==(a=t.tags)?void 0:a.filter(t=>t!==e))||[]}})},className:"ml-1 text-blue-600 hover:text-blue-500",children:(0,r.jsx)(g.A,{className:"h-3 w-3"})})]},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Importance Score: ",Math.round(100*(d.importance_score||.5)),"%"]}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:d.importance_score||.5,onChange:e=>u(t=>({...t,importance_score:parseFloat(e.target.value)})),className:"w-full"}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,r.jsx)("span",{children:"Less Important"}),(0,r.jsx)("span",{children:"Very Important"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,r.jsx)("button",{type:"button",onClick:_,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",children:h?"Adding...":"Add Knowledge"})]})]})]}),(0,r.jsx)(k,{isOpen:b,onClose:()=>f(!1),onSelectAnalysis:S,isProcessing:j,documentName:(null==(t=d.file)?void 0:t.name)||d.title,extractedText:y})]}):null}var C=a(90960);let E={text:l.A,url:o.A,document:i.A},L={text:"bg-blue-100 text-blue-800",url:"bg-green-100 text-green-800",document:"bg-purple-100 text-purple-800"};function S(){var e,t,a;let[o,g]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[y,v]=(0,s.useState)(""),[j,w]=(0,s.useState)(1),N=(0,n.useQueryClient)(),{data:k,isLoading:A}=(0,n.useQuery)(["knowledge-sources",j,h,b,y],()=>C.tK.getSources({page:j,search:h,category:b,source_type:y}),{keepPreviousData:!0}),{data:S}=(0,n.useQuery)("knowledge-categories",C.tK.getCategories),M=(0,n.useMutation)(C.tK.addDirectEntry,{onSuccess:()=>{N.invalidateQueries("knowledge-sources"),N.invalidateQueries("knowledge-categories")}}),R=(null==k||null==(e=k.data)?void 0:e.data)||[],O=null==k||null==(t=k.data)?void 0:t.pagination,P=(null==S||null==(a=S.data)?void 0:a.data)||[],T=async e=>{if(e.file){let t=new FormData;t.append("title",e.title),t.append("source_type",e.source_type),e.category_id&&t.append("category_id",e.category_id.toString()),e.tags&&t.append("tags",JSON.stringify(e.tags)),e.cultural_context&&t.append("cultural_context",e.cultural_context),e.importance_score&&t.append("importance_score",e.importance_score.toString()),t.append("file",e.file),await M.mutateAsync(t)}else await M.mutateAsync({title:e.title,source_type:e.source_type,source_url:e.source_url,content_text:e.content_text,category_id:e.category_id,tags:e.tags,cultural_context:e.cultural_context,importance_score:e.importance_score})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Knowledge Base"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage cultural wisdom and knowledge sources for Sampang region"})]}),(0,r.jsxs)("button",{onClick:()=>g(!0),className:"btn-primary flex items-center space-x-2",children:[(0,r.jsx)(c.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Add Knowledge"})]})]}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),w(1)},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Search knowledge base...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Search"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,r.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"All Categories"}),P.map(e=>(0,r.jsxs)("option",{value:e.name,children:[e.name," (",e.entry_count,")"]},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Type"}),(0,r.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"All Types"}),(0,r.jsx)("option",{value:"text",children:"Text Entry"}),(0,r.jsx)("option",{value:"url",children:"URL/Website"}),(0,r.jsx)("option",{value:"document",children:"Document"})]})]})]})]})}),(0,r.jsx)("div",{className:"space-y-4",children:A?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading knowledge sources..."})]}):0===R.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(l.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No knowledge sources found"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:h||b||y?"Try adjusting your search criteria":"Start by adding your first knowledge entry"}),(0,r.jsx)("button",{onClick:()=>g(!0),className:"btn-primary",children:"Add Knowledge"})]}):R.map(e=>{let t=E[e.source_type]||l.A;return(0,r.jsx)("div",{className:"card hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"p-3 rounded-lg ".concat(L[e.source_type]||"bg-gray-100 text-gray-800"),children:(0,r.jsx)(t,{className:"h-6 w-6"})})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),e.cultural_context&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.cultural_context}),e.content_text&&(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-3",children:e.content_text.length>200?"".concat(e.content_text.substring(0,200),"..."):e.content_text}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[e.category_name&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(i.A,{className:"h-4 w-4 mr-1"}),e.category_name]}),e.importance_score&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mr-1",children:"Importance:"}),(0,r.jsxs)("span",{className:"font-medium",children:[Math.round(100*e.importance_score),"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-1"}),e.created_by_name]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-1"}),new Date(e.created_at).toLocaleDateString()]})]}),e.tags&&e.tags.length>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map((e,t)=>(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e},t))})]})]}),(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("completed"===e.processing_status?"bg-green-100 text-green-800":"processing"===e.processing_status?"bg-yellow-100 text-yellow-800":"failed"===e.processing_status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.processing_status})})]})})]})},e.id)})}),O&&O.totalPages>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(O.page-1)*O.limit+1," to"," ",Math.min(O.page*O.limit,O.total)," of"," ",O.total," results"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>w(Math.max(1,j-1)),disabled:1===j,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,r.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,O.totalPages)},(e,t)=>{let a=t+1;return(0,r.jsx)("button",{onClick:()=>w(a),className:"px-3 py-1 border rounded-md ".concat(j===a?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"),children:a},a)})}),(0,r.jsx)("button",{onClick:()=>w(Math.min(O.totalPages,j+1)),disabled:j===O.totalPages,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]}),(0,r.jsx)(_,{isOpen:o,onClose:()=>g(!1),onAdd:T})]})}},86302:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))})},88125:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},88592:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))})},90960:(e,t,a)=>{"use strict";a.d(t,{FH:()=>l,_x:()=>i,ao:()=>d,jd:()=>u,tK:()=>o,yj:()=>c});var r=a(95125),s=a(22663);class n{setupInterceptors(){this.client.interceptors.request.use(e=>(this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),e),e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t,a,r;let n=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!n._retry){n._retry=!0;let e=localStorage.getItem("exeloka_refresh_token");if(e)try{let t=await this.client.post("/auth/refresh",{refreshToken:e});if(t.data.success){let{token:e,refreshToken:a}=t.data.data;return localStorage.setItem("exeloka_token",e),localStorage.setItem("exeloka_refresh_token",a),this.setAuthToken(e),n.headers.Authorization="Bearer ".concat(e),this.client(n)}}catch(e){this.handleAuthFailure()}else this.handleAuthFailure()}return(null==(r=e.response)||null==(a=r.data)?void 0:a.message)?401!==e.response.status&&s.Ay.error(e.response.data.message):"Network Error"===e.message?s.Ay.error("Network error. Please check your connection."):"ECONNABORTED"===e.code&&s.Ay.error("Request timeout. Please try again."),Promise.reject(e)})}handleAuthFailure(){localStorage.removeItem("exeloka_token"),localStorage.removeItem("exeloka_refresh_token"),this.setAuthToken(null),window.location.pathname.includes("/login")||window.location.pathname.includes("/register")||(window.location.href="/login")}setAuthToken(e){this.authToken=e}async get(e,t){return this.client.get(e,{params:t})}async post(e,t,a){return this.client.post(e,t,a)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}async uploadFile(e,t,a){return this.client.post(e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{a&&e.total&&a(Math.round(100*e.loaded/e.total))}})}async downloadFile(e,t){try{let a=await this.client.get(e,{responseType:"blob"}),r=new Blob([a.data]),n=window.URL.createObjectURL(r),l=document.createElement("a");l.href=n,l.download=t||"download",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n),s.Ay.success("File downloaded successfully")}catch(e){throw s.Ay.error("Failed to download file"),e}}constructor(){this.authToken=null,this.client=r.A.create({baseURL:"https://www.forrestofus.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let l=new n,o={ingestData:e=>l.post("/knowledge/ingest",e),addDirectEntry:e=>e instanceof FormData?l.uploadFile("/knowledge/direct",e):l.post("/knowledge/direct",e),search:(e,t)=>l.get("/knowledge/search",{query:e,...t}),getSources:e=>l.get("/knowledge/sources",e),getCategories:()=>l.get("/knowledge/categories"),getSource:e=>l.get("/knowledge/".concat(e)),deleteSource:e=>l.delete("/knowledge/sources/".concat(e))},i={create:e=>l.post("/recommendations/projects",e),getAll:e=>l.get("/recommendations/projects",e),getById:e=>l.get("/recommendations/projects/".concat(e)),update:(e,t)=>l.put("/recommendations/projects/".concat(e),t),delete:e=>l.delete("/recommendations/projects/".concat(e)),getPromptTemplates:()=>l.get("/recommendations/prompt-templates"),generateRecommendation:e=>l.post("/recommendations/generate",e),getRecommendations:e=>l.get("/recommendations",e),getRecommendation:e=>l.get("/recommendations/".concat(e)),submitFeedback:(e,t)=>l.post("/recommendations/".concat(e,"/feedback"),t),getAnalytics:()=>l.get("/recommendations/analytics"),getAnalyticsDashboard:e=>l.get("/recommendations/analytics/dashboard?range=".concat(e))},c={getAll:e=>l.get("/recommendations",e),getById:e=>l.get("/recommendations/".concat(e)),getByProject:e=>l.get("/recommendations?project=".concat(e)),submitFeedback:(e,t)=>l.post("/recommendations/".concat(e,"/feedback"),t),generateDocument:(e,t)=>l.post("/recommendations/".concat(e,"/generate-document"),{format:t},{responseType:"blob"}),delete:e=>l.delete("/recommendations/".concat(e))},d={generateDocx:e=>l.post("/documents/generate/docx",e),generateXlsx:e=>l.post("/documents/generate/xlsx",e),generatePptx:e=>l.post("/documents/generate/pptx",e),getDocuments:e=>l.get("/documents",e),downloadDocument:e=>l.downloadFile("/documents/download/".concat(e),e),getStats:()=>l.get("/documents/stats")},u={getInsights:e=>l.get("/recommendations/learning/insights",e),getStats:()=>l.get("/recommendations/learning/stats"),getFeedbackSummary:e=>l.get("/recommendations/".concat(e,"/feedback-summary"))}}},e=>{e.O(0,[459,108,441,493,358],()=>e(e.s=52634)),_N_E=e.O()}]);