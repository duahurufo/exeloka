(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{10610:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))})},16818:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(95155),s=r(12115),n=r(20063),o=r(35108),l=r(90960),c=r(52619),i=r.n(c),d=r(49128),u=r(86302),m=r(10610),h=r(29632);let p=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))});var x=r(43569),g=r(76414),f=r(57218),y=r(88592),b=r(22663);let v=["Religious Customs & Practices","Traditional Ceremonies & Festivals","Local Leadership Structures","Community Decision Making","Economic & Trade Practices","Family & Social Dynamics","Communication Patterns","Conflict Resolution Methods","Agricultural Traditions","Educational Approaches","Healthcare Beliefs","Environmental Stewardship"];function w(){var e;let t=(0,n.useRouter)(),[r,c]=(0,s.useState)({title:"",source_type:"text",content_text:"",category_id:void 0,tags:[],cultural_context:"",importance_score:.5}),[w,j]=(0,s.useState)(""),[k,N]=(0,s.useState)(!1),{data:A}=(0,o.useQuery)("knowledge-categories",l.tK.getCategories),_=(null==A||null==(e=A.data)?void 0:e.data)||[],C=(0,o.useMutation)(l.tK.addDirectEntry,{onSuccess:()=>{b.Ay.success("Knowledge entry added successfully!"),t.push("/dashboard/knowledge")},onError:e=>{var t,r;b.Ay.error((null==(r=e.response)||null==(t=r.data)?void 0:t.message)||"Failed to add knowledge entry")}}),E=(e,t)=>{c(r=>({...r,[e]:t}))},L=()=>{w.trim()&&!r.tags.includes(w.trim())&&(c(e=>({...e,tags:[...e.tags,w.trim()]})),j(""))},D=e=>{c(t=>({...t,file:e,title:t.title||e.name.replace(/\.[^/.]+$/,"")}))},S=async e=>{var t,a,s;if(e.preventDefault(),!r.title.trim())return void b.Ay.error("Title is required");if("text"===r.source_type&&!(null==(t=r.content_text)?void 0:t.trim()))return void b.Ay.error("Content text is required");if("url"===r.source_type&&!(null==(a=r.source_url)?void 0:a.trim()))return void b.Ay.error("URL is required");if("document"===r.source_type&&!r.file)return void b.Ay.error("Document file is required");let n={title:r.title.trim(),source_type:r.source_type,category_id:r.category_id,tags:r.tags,cultural_context:null==(s=r.cultural_context)?void 0:s.trim(),importance_score:r.importance_score};if("text"===r.source_type?n.content_text=r.content_text:"url"===r.source_type&&(n.source_url=r.source_url),r.file){let e=new FormData;Object.keys(n).forEach(t=>{"tags"===t?e.append(t,JSON.stringify(n[t])):void 0!==n[t]&&null!==n[t]&&e.append(t,n[t].toString())}),e.append("file",r.file),n=e}C.mutate(n)},T=(()=>{switch(r.source_type){case"text":default:return d.A;case"url":return u.A;case"document":return m.A}})();return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/dashboard/knowledge",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(h.A,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Add Knowledge Entry"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Contribute to the cultural wisdom knowledge base for Sampang region"})]})]}),(0,a.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Knowledge Source Type"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{type:"text",label:"Text Entry",description:"Direct text input of cultural knowledge",icon:d.A},{type:"url",label:"Website/URL",description:"Link to online resources or articles",icon:u.A},{type:"document",label:"Document Upload",description:"PDF, DOC, or other document files",icon:m.A}].map(e=>{let t=e.icon;return(0,a.jsxs)("label",{className:"p-4 border rounded-lg cursor-pointer transition-all ".concat(r.source_type===e.type?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[(0,a.jsx)("input",{type:"radio",name:"source_type",value:e.type,checked:r.source_type===e.type,onChange:e=>E("source_type",e.target.value),className:"sr-only"}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)(t,{className:"h-8 w-8 mb-2 ".concat(r.source_type===e.type?"text-blue-600":"text-gray-400")}),(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:e.label}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.type)})})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"Title *"}),(0,a.jsx)("input",{type:"text",required:!0,className:"form-input",placeholder:"Enter a descriptive title for this knowledge entry",value:r.title,onChange:e=>E("title",e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"Category"}),(0,a.jsxs)("select",{className:"form-input",value:r.category_id||"",onChange:e=>E("category_id",e.target.value?parseInt(e.target.value):void 0),children:[(0,a.jsx)("option",{value:"",children:"Select a category (optional)"}),_.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(T,{className:"h-6 w-6 mr-2"}),"Source Content"]}),"text"===r.source_type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"Content Text *"}),(0,a.jsx)("textarea",{required:!0,rows:8,className:"form-input",placeholder:"Enter the cultural knowledge content here. Be as detailed and specific as possible about cultural practices, traditions, customs, or wisdom relevant to the Sampang region...",value:r.content_text||"",onChange:e=>E("content_text",e.target.value)}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Tip: Include specific examples, context, and practical applications where possible."})]}),"url"===r.source_type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"Website URL *"}),(0,a.jsx)("input",{type:"url",required:!0,className:"form-input",placeholder:"https://example.com/cultural-article",value:r.source_url||"",onChange:e=>E("source_url",e.target.value)}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"The system will automatically extract relevant content from the provided URL."})]}),"document"===r.source_type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"Document Upload *"}),r.file?(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(m.A,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:r.file.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(r.file.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>E("file",void 0),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(x.A,{className:"h-5 w-5"})})]}):(0,a.jsxs)("div",{onDrop:e=>{e.preventDefault(),N(!1);let t=Array.from(e.dataTransfer.files)[0];t&&(["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(t.type)?D(t):b.Ay.error("Please upload a PDF, DOC, DOCX, or TXT file"))},onDragOver:e=>{e.preventDefault(),N(!0)},onDragLeave:()=>N(!1),className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(k?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,a.jsx)(p,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your document here"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"or click to browse files"}),(0,a.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,.txt",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];r&&D(r)},className:"hidden",id:"file-upload"}),(0,a.jsx)("label",{htmlFor:"file-upload",className:"btn-primary cursor-pointer",children:"Choose File"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Supported formats: PDF, DOC, DOCX, TXT (max 10MB)"})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cultural Context & Metadata"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"Cultural Context"}),(0,a.jsxs)("select",{className:"form-input",value:r.cultural_context||"",onChange:e=>E("cultural_context",e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Select cultural context (optional)"}),v.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"Importance Score"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",className:"flex-1",value:r.importance_score,onChange:e=>E("importance_score",parseFloat(e.target.value))}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-yellow-400"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(100*r.importance_score),"%"]})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"How important is this knowledge for cultural understanding and project success?"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"form-label",children:"Tags"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",className:"flex-1 form-input",placeholder:"Enter a tag",value:w,onChange:e=>j(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),L())}}),(0,a.jsx)("button",{type:"button",onClick:L,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:(0,a.jsx)(f.A,{className:"h-4 w-4"})})]}),r.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:r.tags.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[(0,a.jsx)(y.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e}),(0,a.jsx)("button",{type:"button",onClick:()=>{c(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},className:"text-blue-600 hover:text-blue-700 ml-1",children:(0,a.jsx)(x.A,{className:"h-3 w-3"})})]},e))})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Add relevant tags to help categorize and search for this knowledge entry."})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{type:"submit",disabled:C.isLoading,className:"btn-primary flex items-center space-x-2",children:C.isLoading?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Adding..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Add Knowledge Entry"})]})}),(0,a.jsx)(i(),{href:"/dashboard/knowledge",className:"btn-secondary",children:"Cancel"})]})]})]})}},20063:(e,t,r)=>{"use strict";var a=r(47260);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},29632:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})},43569:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})},49128:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},57218:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},59973:(e,t,r)=>{Promise.resolve().then(r.bind(r,16818))},76414:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},86302:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))})},88592:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))})},90960:(e,t,r)=>{"use strict";r.d(t,{FH:()=>o,_x:()=>c,ao:()=>d,jd:()=>u,tK:()=>l,yj:()=>i});var a=r(95125),s=r(22663);class n{setupInterceptors(){this.client.interceptors.request.use(e=>(this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),e),e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t,r,a;let n=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!n._retry){n._retry=!0;let e=localStorage.getItem("exeloka_refresh_token");if(e)try{let t=await this.client.post("/auth/refresh",{refreshToken:e});if(t.data.success){let{token:e,refreshToken:r}=t.data.data;return localStorage.setItem("exeloka_token",e),localStorage.setItem("exeloka_refresh_token",r),this.setAuthToken(e),n.headers.Authorization="Bearer ".concat(e),this.client(n)}}catch(e){this.handleAuthFailure()}else this.handleAuthFailure()}return(null==(a=e.response)||null==(r=a.data)?void 0:r.message)?401!==e.response.status&&s.Ay.error(e.response.data.message):"Network Error"===e.message?s.Ay.error("Network error. Please check your connection."):"ECONNABORTED"===e.code&&s.Ay.error("Request timeout. Please try again."),Promise.reject(e)})}handleAuthFailure(){localStorage.removeItem("exeloka_token"),localStorage.removeItem("exeloka_refresh_token"),this.setAuthToken(null),window.location.pathname.includes("/login")||window.location.pathname.includes("/register")||(window.location.href="/login")}setAuthToken(e){this.authToken=e}async get(e,t){return this.client.get(e,{params:t})}async post(e,t,r){return this.client.post(e,t,r)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}async uploadFile(e,t,r){return this.client.post(e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{r&&e.total&&r(Math.round(100*e.loaded/e.total))}})}async downloadFile(e,t){try{let r=await this.client.get(e,{responseType:"blob"}),a=new Blob([r.data]),n=window.URL.createObjectURL(a),o=document.createElement("a");o.href=n,o.download=t||"download",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n),s.Ay.success("File downloaded successfully")}catch(e){throw s.Ay.error("Failed to download file"),e}}constructor(){this.authToken=null,this.client=a.A.create({baseURL:"https://www.forrestofus.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let o=new n,l={ingestData:e=>o.post("/knowledge/ingest",e),addDirectEntry:e=>e instanceof FormData?o.uploadFile("/knowledge/direct",e):o.post("/knowledge/direct",e),search:(e,t)=>o.get("/knowledge/search",{query:e,...t}),getSources:e=>o.get("/knowledge/sources",e),getCategories:()=>o.get("/knowledge/categories"),getSource:e=>o.get("/knowledge/".concat(e)),deleteSource:e=>o.delete("/knowledge/sources/".concat(e))},c={create:e=>o.post("/recommendations/projects",e),getAll:e=>o.get("/recommendations/projects",e),getById:e=>o.get("/recommendations/projects/".concat(e)),update:(e,t)=>o.put("/recommendations/projects/".concat(e),t),delete:e=>o.delete("/recommendations/projects/".concat(e)),getPromptTemplates:()=>o.get("/recommendations/prompt-templates"),generateRecommendation:e=>o.post("/recommendations/generate",e),getRecommendations:e=>o.get("/recommendations",e),getRecommendation:e=>o.get("/recommendations/".concat(e)),submitFeedback:(e,t)=>o.post("/recommendations/".concat(e,"/feedback"),t),getAnalytics:()=>o.get("/recommendations/analytics"),getAnalyticsDashboard:e=>o.get("/recommendations/analytics/dashboard?range=".concat(e))},i={getAll:e=>o.get("/recommendations",e),getById:e=>o.get("/recommendations/".concat(e)),getByProject:e=>o.get("/recommendations?project=".concat(e)),submitFeedback:(e,t)=>o.post("/recommendations/".concat(e,"/feedback"),t),generateDocument:(e,t)=>o.post("/recommendations/".concat(e,"/generate-document"),{format:t},{responseType:"blob"}),delete:e=>o.delete("/recommendations/".concat(e))},d={generateDocx:e=>o.post("/documents/generate/docx",e),generateXlsx:e=>o.post("/documents/generate/xlsx",e),generatePptx:e=>o.post("/documents/generate/pptx",e),getDocuments:e=>o.get("/documents",e),downloadDocument:e=>o.downloadFile("/documents/download/".concat(e),e),getStats:()=>o.get("/documents/stats")},u={getInsights:e=>o.get("/recommendations/learning/insights",e),getStats:()=>o.get("/recommendations/learning/stats"),getFeedbackSummary:e=>o.get("/recommendations/".concat(e,"/feedback-summary"))}}},e=>{e.O(0,[459,108,619,441,493,358],()=>e(e.s=59973)),_N_E=e.O()}]);