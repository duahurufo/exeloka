(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{16760:(e,t,a)=>{Promise.resolve().then(a.bind(a,26962))},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},26962:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(95155),r=a(12115),o=a(20063),n=a(35108),l=a(90960),c=a(29632),i=a(43569),d=a(57218),u=a(49128),m=a(52619),h=a.n(m),p=a(22663);let g=[{value:"infrastructure",label:"Infrastructure Development"},{value:"business",label:"Business Expansion"},{value:"community",label:"Community Engagement"},{value:"cultural",label:"Cultural Initiative"},{value:"education",label:"Education & Training"},{value:"tourism",label:"Tourism Development"},{value:"agriculture",label:"Agricultural Project"},{value:"technology",label:"Technology Implementation"}],x=["Religious Customs","Traditional Ceremonies","Local Leadership","Community Values","Economic Practices","Social Dynamics","Family Structures","Communication Styles","Conflict Resolution","Decision Making Process"];function j(){let e=(0,o.useRouter)(),[t,a]=(0,r.useState)({title:"",description:"",project_type:"",target_audience:"",cultural_context:"",objectives:[""],priority_areas:[],timeline:"",budget_range:"",stakeholders:[""]}),m=(0,n.useMutation)(l._x.create,{onSuccess:t=>{p.Ay.success("Project created successfully!"),e.push("/dashboard/projects/".concat(t.data.data.id))},onError:e=>{var t,a;p.Ay.error((null==(a=e.response)||null==(t=a.data)?void 0:t.message)||"Failed to create project")}}),j=(e,t)=>{a(a=>({...a,[e]:t}))},v=(e,s,r)=>{let o=[...t[e]];o[s]=r,a(t=>({...t,[e]:o}))},b=e=>{a(t=>({...t,[e]:[...t[e],""]}))},f=(e,s)=>{if(t[e].length>1){let r=t[e].filter((e,t)=>t!==s);a(t=>({...t,[e]:r}))}};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(h(),{href:"/dashboard/projects",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)(c.A,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"New Project"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Create a new cultural engagement project for the Sampang region"})]})]}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!t.title.trim())return void p.Ay.error("Project title is required");if(!t.description.trim())return void p.Ay.error("Project description is required");if(!t.project_type)return void p.Ay.error("Project type is required");let a={...t,objectives:t.objectives.filter(e=>e.trim()),stakeholders:t.stakeholders.filter(e=>e.trim())};m.mutate(a)},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"form-label",children:"Project Title *"}),(0,s.jsx)("input",{type:"text",required:!0,className:"form-input",placeholder:"Enter project title",value:t.title,onChange:e=>j("title",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Project Type *"}),(0,s.jsxs)("select",{required:!0,className:"form-input",value:t.project_type,onChange:e=>j("project_type",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select project type"}),g.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Timeline"}),(0,s.jsxs)("select",{className:"form-input",value:t.timeline,onChange:e=>j("timeline",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select timeline"}),(0,s.jsx)("option",{value:"1-3 months",children:"1-3 months"}),(0,s.jsx)("option",{value:"3-6 months",children:"3-6 months"}),(0,s.jsx)("option",{value:"6-12 months",children:"6-12 months"}),(0,s.jsx)("option",{value:"1-2 years",children:"1-2 years"}),(0,s.jsx)("option",{value:"2+ years",children:"2+ years"})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"form-label",children:"Project Description *"}),(0,s.jsx)("textarea",{required:!0,rows:4,className:"form-input",placeholder:"Describe your project goals, scope, and expected outcomes...",value:t.description,onChange:e=>j("description",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Target Audience"}),(0,s.jsx)("input",{type:"text",className:"form-input",placeholder:"e.g., Local farmers, Urban residents",value:t.target_audience,onChange:e=>j("target_audience",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Budget Range"}),(0,s.jsxs)("select",{className:"form-input",value:t.budget_range,onChange:e=>j("budget_range",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select budget range"}),(0,s.jsx)("option",{value:"< 100M IDR",children:"< 100M IDR"}),(0,s.jsx)("option",{value:"100M - 500M IDR",children:"100M - 500M IDR"}),(0,s.jsx)("option",{value:"500M - 1B IDR",children:"500M - 1B IDR"}),(0,s.jsx)("option",{value:"1B - 5B IDR",children:"1B - 5B IDR"}),(0,s.jsx)("option",{value:"5B+ IDR",children:"5B+ IDR"})]})]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cultural Context"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Cultural Context & Considerations"}),(0,s.jsx)("textarea",{rows:3,className:"form-input",placeholder:"Describe any cultural considerations, local customs, or sensitive areas that should be considered...",value:t.cultural_context,onChange:e=>j("cultural_context",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"form-label",children:"Priority Cultural Areas"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Select areas that are most important for your project success"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:x.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.priority_areas.includes(e),onChange:()=>{a(t=>({...t,priority_areas:t.priority_areas.includes(e)?t.priority_areas.filter(t=>t!==e):[...t.priority_areas,e]}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Objectives"}),(0,s.jsxs)("div",{className:"space-y-3",children:[t.objectives.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"text",className:"flex-1 form-input",placeholder:"Objective ".concat(a+1),value:e,onChange:e=>v("objectives",a,e.target.value)}),t.objectives.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>f("objectives",a),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})]},a)),(0,s.jsxs)("button",{type:"button",onClick:()=>b("objectives"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Add Objective"})]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Key Stakeholders"}),(0,s.jsxs)("div",{className:"space-y-3",children:[t.stakeholders.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"text",className:"flex-1 form-input",placeholder:"Stakeholder ".concat(a+1," (e.g., Village Head, Religious Leader)"),value:e,onChange:e=>v("stakeholders",a,e.target.value)}),t.stakeholders.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>f("stakeholders",a),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})]},a)),(0,s.jsxs)("button",{type:"button",onClick:()=>b("stakeholders"),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Add Stakeholder"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{type:"submit",disabled:m.isLoading,className:"btn-primary flex items-center space-x-2",children:m.isLoading?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,s.jsx)("span",{children:"Creating..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Create Project"})]})}),(0,s.jsx)(h(),{href:"/dashboard/projects",className:"btn-secondary",children:"Cancel"})]})]})]})}},29632:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(12115);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})},43569:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(12115);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})},49128:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(12115);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},57218:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(12115);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...o}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},90960:(e,t,a)=>{"use strict";a.d(t,{FH:()=>n,_x:()=>c,ao:()=>d,jd:()=>u,tK:()=>l,yj:()=>i});var s=a(95125),r=a(22663);class o{setupInterceptors(){this.client.interceptors.request.use(e=>(this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),e),e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t,a,s;let o=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!o._retry){o._retry=!0;let e=localStorage.getItem("exeloka_refresh_token");if(e)try{let t=await this.client.post("/auth/refresh",{refreshToken:e});if(t.data.success){let{token:e,refreshToken:a}=t.data.data;return localStorage.setItem("exeloka_token",e),localStorage.setItem("exeloka_refresh_token",a),this.setAuthToken(e),o.headers.Authorization="Bearer ".concat(e),this.client(o)}}catch(e){this.handleAuthFailure()}else this.handleAuthFailure()}return(null==(s=e.response)||null==(a=s.data)?void 0:a.message)?401!==e.response.status&&r.Ay.error(e.response.data.message):"Network Error"===e.message?r.Ay.error("Network error. Please check your connection."):"ECONNABORTED"===e.code&&r.Ay.error("Request timeout. Please try again."),Promise.reject(e)})}handleAuthFailure(){localStorage.removeItem("exeloka_token"),localStorage.removeItem("exeloka_refresh_token"),this.setAuthToken(null),window.location.pathname.includes("/login")||window.location.pathname.includes("/register")||(window.location.href="/login")}setAuthToken(e){this.authToken=e}async get(e,t){return this.client.get(e,{params:t})}async post(e,t,a){return this.client.post(e,t,a)}async put(e,t){return this.client.put(e,t)}async delete(e){return this.client.delete(e)}async uploadFile(e,t,a){return this.client.post(e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{a&&e.total&&a(Math.round(100*e.loaded/e.total))}})}async downloadFile(e,t){try{let a=await this.client.get(e,{responseType:"blob"}),s=new Blob([a.data]),o=window.URL.createObjectURL(s),n=document.createElement("a");n.href=o,n.download=t||"download",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(o),r.Ay.success("File downloaded successfully")}catch(e){throw r.Ay.error("Failed to download file"),e}}constructor(){this.authToken=null,this.client=s.A.create({baseURL:"https://www.forrestofus.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}}let n=new o,l={ingestData:e=>n.post("/knowledge/ingest",e),addDirectEntry:e=>e instanceof FormData?n.uploadFile("/knowledge/direct",e):n.post("/knowledge/direct",e),search:(e,t)=>n.get("/knowledge/search",{query:e,...t}),getSources:e=>n.get("/knowledge/sources",e),getCategories:()=>n.get("/knowledge/categories"),getSource:e=>n.get("/knowledge/".concat(e)),deleteSource:e=>n.delete("/knowledge/sources/".concat(e))},c={create:e=>n.post("/recommendations/projects",e),getAll:e=>n.get("/recommendations/projects",e),getById:e=>n.get("/recommendations/projects/".concat(e)),update:(e,t)=>n.put("/recommendations/projects/".concat(e),t),delete:e=>n.delete("/recommendations/projects/".concat(e)),getPromptTemplates:()=>n.get("/recommendations/prompt-templates"),generateRecommendation:e=>n.post("/recommendations/generate",e),getRecommendations:e=>n.get("/recommendations",e),getRecommendation:e=>n.get("/recommendations/".concat(e)),submitFeedback:(e,t)=>n.post("/recommendations/".concat(e,"/feedback"),t),getAnalytics:()=>n.get("/recommendations/analytics"),getAnalyticsDashboard:e=>n.get("/recommendations/analytics/dashboard?range=".concat(e))},i={getAll:e=>n.get("/recommendations",e),getById:e=>n.get("/recommendations/".concat(e)),getByProject:e=>n.get("/recommendations?project=".concat(e)),submitFeedback:(e,t)=>n.post("/recommendations/".concat(e,"/feedback"),t),generateDocument:(e,t)=>n.post("/recommendations/".concat(e,"/generate-document"),{format:t},{responseType:"blob"}),delete:e=>n.delete("/recommendations/".concat(e))},d={generateDocx:e=>n.post("/documents/generate/docx",e),generateXlsx:e=>n.post("/documents/generate/xlsx",e),generatePptx:e=>n.post("/documents/generate/pptx",e),getDocuments:e=>n.get("/documents",e),downloadDocument:e=>n.downloadFile("/documents/download/".concat(e),e),getStats:()=>n.get("/documents/stats")},u={getInsights:e=>n.get("/recommendations/learning/insights",e),getStats:()=>n.get("/recommendations/learning/stats"),getFeedbackSummary:e=>n.get("/recommendations/".concat(e,"/feedback-summary"))}}},e=>{e.O(0,[459,108,619,441,493,358],()=>e(e.s=16760)),_N_E=e.O()}]);